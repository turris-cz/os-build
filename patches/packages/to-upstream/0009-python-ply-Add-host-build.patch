From d1c051698e20ed687bbd03399580265d523bed3f Mon Sep 17 00:00:00 2001
From: Michal Hrusecky <Michal@Hrusecky.net>
Date: Tue, 23 Jan 2018 18:16:51 +0100
Subject: [PATCH 09/12] python-ply: Add host build

Might be handy to somebody and we actually need it.

Signed-off-by: Michal Hrusecky <Michal@Hrusecky.net>
---
 lang/python/python-ply/Makefile | 13 +++++++++++++
 1 file changed, 13 insertions(+)

diff --git a/lang/python/python-ply/Makefile b/lang/python/python-ply/Makefile
index 85aa740..258b04e 100644
--- a/lang/python/python-ply/Makefile
+++ b/lang/python/python-ply/Makefile
@@ -22,11 +22,15 @@ PKG_LICENSE:=BSD-3-Clause
 PKG_LICENSE_FILES:=README.md
 PKG_MAINTAINER:=Jeffery To <jeffery.to@gmail.com>
 
+HOST_BUILD_DEPENDS:=python/host 
+include $(INCLUDE_DIR)/host-build.mk
 include $(INCLUDE_DIR)/package.mk
 include ../python-package.mk
+include ../python-host.mk
 include ../python3-package.mk
 
 PKG_UNPACK:=$(HOST_TAR) -C $(PKG_BUILD_DIR) --strip-components=1 -xzf $(DL_DIR)/$(PKG_SOURCE)
+HOST_UNPACK:=$(HOST_TAR) -C $(HOST_BUILD_DIR) --strip-components=1 -xzf $(DL_DIR)/$(PKG_SOURCE)
 
 define Package/python-ply/Default
   SECTION:=lang
@@ -60,6 +64,15 @@ $(call Package/python-ply/description)
 (Variant for Python3)
 endef
 
+define Host/Compile
+$(call Build/Compile/HostPyMod,,install --prefix="" --root="$(STAGING_DIR_HOSTPKG)")
+endef
+
+define Host/Install
+endef
+
+$(eval $(call HostBuild))
+
 $(eval $(call PyPackage,python-ply))
 $(eval $(call BuildPackage,python-ply))
 $(eval $(call BuildPackage,python-ply-src))
-- 
2.19.1

